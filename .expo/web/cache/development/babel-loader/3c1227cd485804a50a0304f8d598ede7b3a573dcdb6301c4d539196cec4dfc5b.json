{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { prisma } from \"../database/prisma\";\nexport var changePermission = function () {\n  var _ref = _asyncToGenerator(function* (req, res) {\n    try {\n      var _req$body;\n      var _ref2 = (_req$body = req.body) != null ? _req$body : {},\n        userId = _ref2.userId,\n        type = _ref2.type;\n      yield prisma.user.update({\n        where: {\n          id: userId\n        },\n        data: {\n          type: type\n        }\n      });\n      res.status(200).json({\n        success: true,\n        message: `Change Permission successfully.`\n      });\n    } catch (err) {\n      res.status(400).json({\n        error: err,\n        message: \"Failed to change permission.\"\n      });\n    }\n  });\n  return function changePermission(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar PermissionController = {\n  changePermission: changePermission\n};\nexport default PermissionController;","map":{"version":3,"names":["prisma","changePermission","_ref","_asyncToGenerator","req","res","_req$body","_ref2","body","userId","type","user","update","where","id","data","status","json","success","message","err","error","_x","_x2","apply","arguments","PermissionController"],"sources":["C:/Users/digoR/OneDrive/Área de Trabalho/DEV/Sollos/Deploy/VistoApp_Backend/src/controller/PermissionController.ts"],"sourcesContent":["import { prisma } from \"../database/prisma\";\r\nimport { Request, Response } from \"express\";\r\n\r\nexport const changePermission = async (req: Request, res: Response) => {\r\n  try {\r\n    const { userId, type } = req.body ?? {};\r\n    await prisma.user.update({\r\n      where: { id: userId },\r\n      data: {\r\n        type: type,\r\n      },\r\n    });\r\n    res\r\n      .status(200)\r\n      .json({ success: true, message: `Change Permission successfully.` });\r\n  } catch (err) {\r\n    res\r\n      .status(400)\r\n      .json({ error: err, message: \"Failed to change permission.\" });\r\n  }\r\n};\r\n\r\nconst PermissionController = {\r\n  changePermission,\r\n};\r\nexport default PermissionController;\r\n"],"mappings":";AAAA,SAASA,MAAM;AAGf,OAAO,IAAMC,gBAAgB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,GAAY,EAAEC,GAAa,EAAK;IACrE,IAAI;MAAA,IAAAC,SAAA;MACF,IAAAC,KAAA,IAAAD,SAAA,GAAyBF,GAAG,CAACI,IAAI,YAAAF,SAAA,GAAI,CAAC,CAAC;QAA/BG,MAAM,GAAAF,KAAA,CAANE,MAAM;QAAEC,IAAI,GAAAH,KAAA,CAAJG,IAAI;MACpB,MAAMV,MAAM,CAACW,IAAI,CAACC,MAAM,CAAC;QACvBC,KAAK,EAAE;UAAEC,EAAE,EAAEL;QAAO,CAAC;QACrBM,IAAI,EAAE;UACJL,IAAI,EAAEA;QACR;MACF,CAAC,CAAC;MACFL,GAAG,CACAW,MAAM,CAAC,GAAG,CAAC,CACXC,IAAI,CAAC;QAAEC,OAAO,EAAE,IAAI;QAAEC,OAAO,EAAG;MAAiC,CAAC,CAAC;IACxE,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZf,GAAG,CACAW,MAAM,CAAC,GAAG,CAAC,CACXC,IAAI,CAAC;QAAEI,KAAK,EAAED,GAAG;QAAED,OAAO,EAAE;MAA+B,CAAC,CAAC;IAClE;EACF,CAAC;EAAA,gBAjBYlB,gBAAgBA,CAAAqB,EAAA,EAAAC,GAAA;IAAA,OAAArB,IAAA,CAAAsB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAiB5B;AAED,IAAMC,oBAAoB,GAAG;EAC3BzB,gBAAgB,EAAhBA;AACF,CAAC;AACD,eAAeyB,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}